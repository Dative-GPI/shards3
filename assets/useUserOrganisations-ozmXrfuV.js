var g=Object.defineProperty;var I=(s,e,i)=>e in s?g(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;var t=(s,e,i)=>I(s,typeof e!="symbol"?e+"":e,i);import"./vue.esm-bundler-l-siv0w9.js";import{P as b}from"./permissionInfos-BPDgTHQl.js";import{C as N}from"./base-BWToAT4M.js";import{S as r}from"./serviceFactory-DTTRhbEw.js";import{C as n}from"./composableFactory-03a1Iisa.js";class c{constructor(e){t(this,"id");t(this,"userId");t(this,"organisationId");t(this,"roleType");t(this,"roleId");t(this,"roleLabel");t(this,"roleIcon");t(this,"admin");t(this,"imageId");t(this,"userType");t(this,"validity");t(this,"allowNotifications");t(this,"allowSms");t(this,"allowEmails");t(this,"email");t(this,"phoneNumber");t(this,"firstName");t(this,"lastName");t(this,"name");t(this,"tags");this.id=e.id,this.userId=e.userId,this.organisationId=e.organisationId,this.roleType=e.roleType,this.roleId=e.roleId,this.roleLabel=e.roleLabel,this.roleIcon=e.roleIcon,this.admin=e.admin,this.imageId=e.imageId,this.userType=e.userType,this.validity=e.validity,this.allowNotifications=e.allowNotifications,this.allowSms=e.allowSms,this.allowEmails=e.allowEmails,this.email=e.email,this.phoneNumber=e.phoneNumber,this.firstName=e.firstName,this.lastName=e.lastName,this.name=e.name,this.tags=e.tags&&e.tags.slice()||[]}}class d extends c{constructor(i){super(i);t(this,"mainDashboardType");t(this,"mainDashboardId");t(this,"mainDashboardLabel");t(this,"languageCode");t(this,"timeZoneId");t(this,"permissions");this.mainDashboardType=i.mainDashboardType,this.mainDashboardId=i.mainDashboardId,this.mainDashboardLabel=i.mainDashboardLabel,this.languageCode=i.languageCode,this.timeZoneId=i.timeZoneId,this.permissions=i.permissions.map(o=>new b(o))}}const l=()=>`${N()}/user-organisations`,u=s=>`${l()}/${encodeURIComponent(s)}`,h=()=>`${l()}/current`,R=()=>`${h()}/dashboard`,a=new r("userOrganisation",d).create(s=>s.build(s.addGet(u),s.addGetMany(l,c),s.addCreate(l),s.addUpdate(u),s.addRemove(u),r.addCustom("getCurrent",e=>e.get(h()),e=>new d(e)),s.addNotify(e=>({...r.addCustom("updateCurrent",(i,o)=>i.post(h(),o),i=>{const o=new d(i);return e.notify("update",o),o}),...r.addCustom("changeCurrentDashboard",(i,o)=>i.put(R(),o),i=>{const o=new d(i);return e.notify("update",o),o})})))),C=n.trackRef(a),m=()=>{const{track:s}=C();return e=>{s(e)}};n.get(a);const y=n.getMany(a);n.create(a);n.update(a);n.remove(a);const _=n.custom(a.getCurrent,m);n.custom(a.updateCurrent,m);n.custom(a.changeCurrentDashboard,m);export{y as a,_ as u};
