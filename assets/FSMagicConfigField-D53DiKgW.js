import{d as S,c as p,A as o,B as f,D as i,I as c,v as T,P as n}from"./vue.esm-bundler-0BaZj8Cy.js";import{M as a,u as y}from"./useMagicFieldProvider-0evLI9Hf.js";import{F as v}from"./FSButtonRemoveIcon-CljmsJpP.js";import{F as q}from"./FSButtonAddIcon-Bo-ntGy2.js";import{F as $}from"./FSTranslateField-DpmjvdLa.js";import{_ as r}from"./FSRow-CAJM3FZ0.js";import{A as k,d as I,b as D,I as N,D as R,T as w,N as C}from"./rules-BSsqb4-6.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F=S({name:"FSMagicConfigField",components:{FSButtonRemoveIcon:v,FSTranslateField:$,FSButtonAddIcon:q,FSRow:r},props:{type:{type:Number,required:!1,default:a.TextField},labelDefault:{type:String,required:!1,default:null},modelValue:{type:String,required:!1,default:null},translations:{type:Array,required:!1,default:()=>[]},editable:{type:Boolean,required:!1,default:!0}},emits:["click:remove","click:add","update:modelValue","update:labelDefault","update:translations"],setup(e,{emit:l}){const{get:d}=y(),s=p(()=>{switch(e.type){case a.NumberField:return[C.required()];case a.TextField:return[w.required()];case a.DateTimeField:return[R.required()];case a.IconField:return[N.required()];case a.TimeField:return[D.required()];case a.TimeStepField:return[I.required()];case a.PlotPerField:return[k.required()]}return[]}),m=p(()=>{if(!e.modelValue)return null;switch(e.type){case a.NumberField:case a.DateTimeField:case a.TimeField:return isNaN(parseFloat(e.modelValue))?null:parseFloat(e.modelValue);case a.Switch:return e.modelValue==="true";case a.TimeStepField:return JSON.parse(e.modelValue);case a.PlotPerField:return parseInt(e.modelValue);default:return e.modelValue}});return{MagicFieldType:a,valueToInput:m,rules:s,inputToValue:t=>{switch(t||l("update:modelValue",null),e.type){case a.NumberField:case a.Switch:case a.DateTimeField:case a.TimeField:l("update:modelValue",t.toString());break;case a.TimeStepField:l("update:modelValue",JSON.stringify(t));break;case a.PlotPerField:l("update:modelValue",t.toString());break;default:l("update:modelValue",t);break}},get:d}}});function M(e,l,d,s,m,g){const t=o("FSTranslateField"),V=o("FSButtonRemoveIcon"),b=o("FSButtonAddIcon");return c(),f(r,{class:"fs-magic-config-field"},{default:i(()=>[(c(),f(T(e.get(e.$props.type)),{class:"fs-magic-config-field-value",label:e.$tr("ui.common.value","Value"),editable:e.$props.editable,required:!0,rules:e.rules,modelValue:e.valueToInput,"onUpdate:modelValue":e.inputToValue},null,8,["label","editable","rules","modelValue","onUpdate:modelValue"])),n(r,{gap:"24px"},{default:i(()=>[n(t,{label:e.$tr("ui.common.label","Label"),editable:e.$props.editable,modelValue:e.$props.labelDefault,translations:e.$props.translations,"onUpdate:modelValue":l[0]||(l[0]=u=>e.$emit("update:labelDefault",u)),"onUpdate:translations":l[1]||(l[1]=u=>e.$emit("update:translations",u))},null,8,["label","editable","modelValue","translations"]),n(r,{class:"fs-magic-config-field-actions",width:"hug",wrap:!1},{default:i(()=>[n(V,{onClick:l[2]||(l[2]=u=>e.$emit("click:remove"))}),n(b,{onClick:l[3]||(l[3]=u=>e.$emit("click:add"))})]),_:1})]),_:1})]),_:1})}const z=B(F,[["render",M]]);F.__docgenInfo={displayName:"FSMagicConfigField",exportName:"default",description:"",tags:{},props:[{name:"type",type:{name:"MagicFieldType"},required:!1,defaultValue:{func:!1,value:"MagicFieldType.TextField"}},{name:"labelDefault",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"modelValue",type:{name:"string | null"},required:!1,defaultValue:{func:!1,value:"null"}},{name:"translations",type:{name:"{ languageCode: string; label: string }[]"},required:!1,defaultValue:{func:!0,value:"() => []"}},{name:"editable",type:{name:"boolean"},required:!1,defaultValue:{func:!1,value:"true"}}],events:[{name:"update:labelDefault"},{name:"update:translations"},{name:"click:remove"},{name:"click:add"},{name:"update:modelValue"}],sourceFiles:["/home/runner/work/foundation-shared-ui/foundation-shared-ui/src/shared/foundation-shared-components/components/fields/FSMagicConfigField.vue"]};export{z as F};
