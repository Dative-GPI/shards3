import{k as p,c as i,l as m,n as y,q as L}from"./vue.esm-bundler-DC82FEWN.js";import{b as E,h as R,d as g,p as x,I as b}from"./theme-B5x8xkbY.js";function q(){const e=E("useRoute");return i(()=>{var a;return(a=e==null?void 0:e.proxy)==null?void 0:a.$route})}function S(){var e,a;return(a=(e=E("useRouter"))==null?void 0:e.proxy)==null?void 0:a.$router}function T(e,a){var v,k;const u=p("RouterLink"),n=i(()=>!!(e.href||e.to)),o=i(()=>(n==null?void 0:n.value)||R(a,"click")||R(e,"click"));if(typeof u=="string"||!("useLink"in u))return{isLink:n,isClickable:o,href:m(e,"href")};const l=i(()=>({...e,to:m(()=>e.to||{})})),c=u.useLink(l.value),t=i(()=>e.to?c:void 0),s=q();return{isLink:n,isClickable:o,route:(v=t.value)==null?void 0:v.route,navigate:(k=t.value)==null?void 0:k.navigate,isActive:i(()=>{var r,d,h;return t.value?e.exact?s.value?((h=t.value.isExactActive)==null?void 0:h.value)&&g(t.value.route.value.query,s.value.query):((d=t.value.isExactActive)==null?void 0:d.value)??!1:((r=t.value.isActive)==null?void 0:r.value)??!1:!1}),href:i(()=>{var r;return e.to?(r=t.value)==null?void 0:r.route.value.href:e.href})}}const A=x({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let f=!1;function C(e,a){let u=!1,n,o;b&&(y(()=>{window.addEventListener("popstate",l),n=e==null?void 0:e.beforeEach((c,t,s)=>{f?u?a(s):s():setTimeout(()=>u?a(s):s()),f=!0}),o=e==null?void 0:e.afterEach(()=>{f=!1})}),L(()=>{window.removeEventListener("popstate",l),n==null||n(),o==null||o()}));function l(c){var t;(t=c.state)!=null&&t.replaced||(u=!0,setTimeout(()=>u=!1))}}export{S as a,C as b,A as m,T as u};
